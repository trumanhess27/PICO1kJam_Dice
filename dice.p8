pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
p=print
h=rectfill
sx=10
sy=24
r=1
a=-20
function p_r(t)
	l=0 y=15
	for i=1,#t do
		?t[i].." out of "..m[i],70,y,e[i]
		a=y
		l+=t[i]
		y+=6
	end
	?"total: "..l,0,110,7
end

function _init()
	t={}m={}e={}
	menuitem(1, "reset total", function() t={} m={} e={} a=-20 end)
end

function _update()
	n=0 tt=false
	q=4
	w=8
	if(#t<16) then
		if (btnp(0) and sx>15) sx-=25 r-=1
		if (btnp(1) and sx<20) sx+=25 r+=1
		if (btnp(2) and sy>24) sy-=25 r-=2--up
		if (btnp(3) and sy<50) sy+=25 r+=2--down
		if (btnp(4)) then
			for i=1,6do
				if(r==i) n=flr(rnd(q))+1 add(t,n) add(m,q) add(e,w)
				q+=2
				w+=1
				if(q>12) q=20 w=14
			end
		end
	else
		tt=true
	end
end

function _draw()
	cls(1)
	h(64,14,127,109,2) --dice roll area
	p("d&d dice roller",16,7,7)
	h(0,14,63,109,3) --dice choice area

	h(11,25,24,38,7) --d4
	p("d4",15,29,8)
	h(36,25,49,38,7) --d6
	p("d6",40,29,9)
	h(11,50,24,63,7) --d8
	p("d8",15,54,10)
	h(36,50,49,63,7) --d10
	p("d10",37,54,11)
	h(11,75,24,88,7) --d12
	p("d12",12,79,12)
	
	rect(36,75,50,89,6)
	h(36,75,49,88,7) --d20
	p("d20",38,79,14)
	
	h(69,a-1,117,a+5,4)
	rect(sx,sy,sx+15,sy+15,10) --selector
	p_r(t)
	if(tt==true) p("reset total from pause menu",7)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
